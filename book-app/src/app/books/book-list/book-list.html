<div class="app-wrapper d-flex flex-column min-vh-100">

<!-- Header -->
<header class="app-header bg-primary text-white d-flex align-items-center justify-content-between px-4 py-2">
  <h4 class="m-0">📘 My Book Manager</h4>
  <span>Welcome, Khayyam!</span>
</header>



<div class="d-flex">
  <!-- Sidebar -->
  <div class="sidebar bg-dark text-white p-3 position-relative" [class.collapsed]="!isSidebarOpen">
    <div class="sidebar-content">
      <h5>📚 Menu</h5>
      <hr />
      <div class="mb-2">👤 Profile</div>
      <div class="mb-2">⚙️ Settings</div>
      <a routerLink="/books" class="text-white d-block mt-2">📖 Book List</a>
    </div>

    <!-- Toggle Arrow -->
    <div class="sidebar-toggle position-absolute" (click)="toggleSidebar()">
      <i class="arrow-icon" [class.open]="isSidebarOpen">
        {{ isSidebarOpen ? '<' : '>' }}
      </i>
    </div>
  </div>

<div class="main-content flex-fill p-4">

<div class="container mt-4">
  <h2 class="text-center mb-4">📚 Book List</h2>

  <input 
    type="text"
    placeholder="🔍 Search by title or author"
    [(ngModel)]="searchQuery"
    class="form-control mb-4"
  />

  <div class="text-end mb-3">
    <a routerLink="/books/new" class="btn btn-success">+ Add New Book</a>
  </div>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let book of filteredBooks">
      <div class="card book-card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ book.title }}</h5>
          <h6 class="card-subtitle mb-2 text-muted">{{ book.author }}</h6>
          <p class="card-text">
            Genre: {{ book.genre || 'N/A' }}<br>
            Year: {{ book.yearPublished || 'N/A' }}
          </p>
        </div>
        <div class="card-footer d-flex justify-content-between">
          <a [routerLink]="['/books', book.id]" class="btn btn-sm btn-info">View</a>
          <a [routerLink]="['/books/edit', book.id]" class="btn btn-sm btn-primary">Edit</a>
          <button (click)="deleteBook(book)" class="btn btn-sm btn-danger">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>

<!-- Footer -->
<footer class="  app-footer bg-light text-center py-2 border-top mt-auto ">
  <small>&copy; 2025 Book Manager by Khayyam Shah 📚</small>
</footer>
